(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},29:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=(a(29),a(7)),s=a(8),i=a(11),m=a(10),u=a(9),h=a(1),d=a(14),p=a.n(d),f=a(21),E=a(23),v=function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"search"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),c&&e.history.push("/".concat(c))}},r.a.createElement("input",{type:"search",name:"search",placeholder:"city, state",onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",null,"Search")))},y=(a(31),"b0ec7e80c19b41ae8e7200423200511"),g=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getTemp=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["boston, ma","chicago, il","houston, tx","las vegas, nv","los angeles, ca","miami, fl","new york, ny","san diego, ca","seattle, wa"],e.next=3,Promise.all(t.map((function(e){return fetch("https://api.weatherapi.com/v1/current.json?key=".concat(y,"&q=").concat(e)).then((function(e){return e.json()}))})));case 3:a=e.sent,console.log(a),n.setState({cities:a});case 6:case"end":return e.stop()}}),e)}))),n.state={cities:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getTemp()}},{key:"render",value:function(){var e=this.state.cities.map((function(e,t){var a=e.location,n=a.name,c=a.region,o=e.current.condition.text,l=e.current.temp_f;return r.a.createElement(u.b,{to:n,className:"card",key:t},r.a.createElement("p",null,n+", "+c),r.a.createElement("div",{className:"temp"},r.a.createElement("li",null,o),r.a.createElement("li",null,l,"\u02daF")))}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-main"},r.a.createElement("h1",null,"Today's Weather"),r.a.createElement(v,{history:this.props.history}),r.a.createElement("div",{className:"cards-container"},e.length>0?e:r.a.createElement("div",{className:"loader",style:{marginTop:"20%"}}))))}}]),a}(n.Component),w=a(17),b=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={alert:{},current:{},condition:{},forecast:[],location:{name:"",country:"",region:""},comma:"",error:!1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("https://api.weatherapi.com/v1/forecast.json?key=".concat(y,"&q=").concat(t,"&days=7")).then((function(t){if(!(t.status>=400&&t.status<=500)){if(t.ok)return t;var a="".concat(t.status," (").concat(t.statusText,")");throw new Error(a)}e.setState(Object(w.a)(Object(w.a)({},e.state),{},{error:!0}))})).then((function(e){return e.json()})).then((function(t){e.setState({alert:t.alert,current:t.current,condition:t.current.condition,forecast:t.forecast.forecastday,location:t.location,comma:", "})})).catch((function(e){return console.error("Error in fetch: ".concat(e.message))}))}},{key:"render",value:function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=this.state.location,a=t.name,n=t.region,c=t.country,o=this.state.current.temp_f,l=this.state.condition,s=l.icon,i=l.text,m=this.state.comma,h=this.state.forecast.map((function(t,a){var n=t.day.avgtemp_f,c=t.day.condition,o=c.icon,l=c.text,s=t.date.replace("2020-",""),i=new Date(t.date).getDay();return r.a.createElement("div",{className:"card-temp",key:a},e[i]," ",s," ",r.a.createElement("br",null),r.a.createElement("br",null),"Temp: ",n,"\u02daF ",r.a.createElement("br",null),r.a.createElement("div",{className:"forecast-cards"},r.a.createElement("img",{src:o,alt:""}),r.a.createElement("div",null,r.a.createElement("span",null,l))))}));return console.log(this.state),r.a.createElement("div",{className:"container"},r.a.createElement(u.b,{to:"/",className:"card"},"Back"),r.a.createElement("div",{className:"container-main"},this.state.error?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"City location not found "),r.a.createElement("img",{className:"error",src:"https://www.flaticon.com/premium-icon/icons/svg/3296/3296271.svg",alt:""})):r.a.createElement(r.a.Fragment,null,"United States of America"===c?r.a.createElement("h1",null,a+m+n):r.a.createElement("h1",null,a+m+c),r.a.createElement("div",{className:"current-weather"},r.a.createElement("h3",null,"Current Weater"),r.a.createElement("div",{className:"current-weather-main"},r.a.createElement("div",{className:"current-weather-image"},r.a.createElement("img",{src:s,alt:""})," ",r.a.createElement("span",null,i)),r.a.createElement("div",{className:"current-weather-info"},"Temperature: ",o,"\u02daF"))),r.a.createElement("div",{className:"daily-temp-container"},c?h:r.a.createElement("h3",null," Loading forecast... ")))))}}]),a}(n.Component),j=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"top-content"},r.a.createElement("div",{className:"main-content"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:g}),r.a.createElement(h.a,{exact:!0,path:"/:id",component:b}))),r.a.createElement("div",{className:"api-ref"},"Powered by ",r.a.createElement("a",{href:"https://www.weatherapi.com/",title:"Free Weather API"},"WeatherAPI.com"))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.715cc40e.chunk.js.map